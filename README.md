# Проект WidgetForSuccessfulOperations

## Описание:

Проект WidgetForSuccessfulOperations - это виджет, который показывает несколько последних успешных банковских операций
клиента.

## Установка:

1. Клонируйте репозиторий:

```
git clone https://github.com/JonniD/WidgetForSuccessfulOperations.git
```

## Использование:

1. Импортируйте модуль processing(```import processing```).
2. Вызовите функции filter_by_state и sort_by_date.
3. Пример ввода и вывода данных filter_by_state.

``` 
# Входные данные
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
 {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
 {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
 {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

# Выход функции со статусом по умолчанию 'EXECUTED'
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
 {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

# Выход функции, если вторым аргументов передано 'CANCELED'
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
 {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```

4. Пример ввода и вывода данных sort_by_date.

``` 
# Входные данные
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
 {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
 {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
 {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

# Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
 {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'},
 {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
 {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```

## Документация:

Функция filter_by_state, принимает список словарей и опционально значение для ключа state(по умолчанию 'EXECUTED').
Функция возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует указанному
значению.
Функция sort_by_date, принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию —
убывание).
Функция возвращает новый список, отсортированный по дате (```date```)

## Тестирование функций:

В проект добавлена возможность протестировать все созданные функции с использованием pytest.

Команда для запуска тестирования:
`pytest `

Команда для генерации отчета о покрытии:
`pytest --cov=src --cov-report=html`
---

### Тестирование функций модуля `masks`

Тестирование функции `get_mask_card_number` включает в себя:

* Позитивный тест с использованием корректных данных.

* Негативные тесты с использованием:
    * пустая строка;
    * короткий номер;
    * длинный номер;
    * номера с дополнительными пробелами и дефисами;
    * строка с использованием буквенных символов;
    * строка формата "Карта номер".

Тестирование функции `get_mask_account` включает в себя:

* Позитивный тест с использованием корректных данных.

* Негативные тесты с использованием:
    * пустая строка;
    * короткий номер;
    * длинный номер;
    * номера с дополнительными пробелами и дефисами;
    * строка с использованием буквенных символов;
    * строка формата "Счет номер".

---

### Тестирование функций модуля `widget`

Тестирование функции `mask_account_card` включает в себя:

* Позитивные тесты для разных счетов и номеров карт различных платежных систем:
    * Visa Gold;
    * Maestro;
    * MasterCard;
    * Visa Classic;
    * Visa Platinum;
    * Карта вашего банка;
    * Вариации "Счёт" и "Счет".

* Негативные тесты:
    * пустая строка;
    * строки, содержащие только числовые символы;
    * строки, состоящие из буквенных символов;
    * строки формата "Карта номер" и "Счет номер" с использованием дополнительных пробелов внутри номеров.

Тестирование функции `get_date` включает в себя:

* Позитивный тест с использованием корректных данных.

* Негативные тесты:
    * пустая строка;
    * строки с некорректным форматом даты;
    * строка с пограничным значением даты.

---

### Тестирование функций модуля `processing`

* Тестирование функций `filter_by_state` и `sort_by_date` с использованием значений по умолчанию:
    * Позитивный тест;
    * Негативный тест - передан список словарей с некорректными ключами и их значениями.

* Тестирование функции `filter_by_state` с передачей разных аргументов:
    * позитивные тесты при передаче корректных аргументов "CANCELED" и "EXECUTED";
    * негативные тесты при передаче некорректных данных, а также пустой строки.

* Тестирование функции `sort_by_date` с передачей разных аргументов:
    * True;
    * False;
    * None;
    * пустая строка;
    * строка с пробелом (не пустая строка).

Особенность работы дополнительных аргументов функции `sort_by_date` заключается в типе параметров bool, при которой
любая непустая строка равнозначна значению True, а пустая строка и значение None равнозначно значению False.

---
